{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yassir\\\\Desktop\\\\TenderLink_ui\\\\src\\\\components\\\\services\\\\ServiceForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport ServiceService from '../../services/ServiceService';\nimport CategoryService from '../../services/CategoryService';\nimport { useAuth } from '../../AuthContext';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ServiceForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    authToken\n  } = useAuth();\n  const [categories, setCategories] = useState([]);\n  const [formData, setFormData] = useState({\n    name: '',\n    category: {\n      id: ''\n    },\n    subCategory: '',\n    capabilities: [],\n    constraints: '',\n    cost: 0,\n    deliveryTime: ''\n  });\n  useEffect(() => {\n    fetchCategories();\n    if (id) fetchService();\n  }, [id]);\n  const fetchCategories = async () => {\n    try {\n      const data = await CategoryService.getAllCategories();\n      setCategories(data);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n  const fetchService = async () => {\n    try {\n      const data = await ServiceService.getServiceById(id);\n      setFormData(data);\n    } catch (error) {\n      console.error('Error fetching service:', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (id) {\n        await ServiceService.updateService(id, formData, authToken);\n      } else {\n        await ServiceService.createService(formData, authToken);\n      }\n      navigate('/services');\n    } catch (error) {\n      console.error('Error saving service:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: formData.name,\n      onChange: e => setFormData({\n        ...formData,\n        name: e.target.value\n      }),\n      placeholder: \"Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: formData.category.id,\n      onChange: e => setFormData({\n        ...formData,\n        category: {\n          id: e.target.value\n        }\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: cat.id,\n        children: cat.name\n      }, cat.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(ServiceForm, \"90l/K7DyYv9qBbMcMhPgtl2w2Z8=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = ServiceForm;\nexport default ServiceForm;\nvar _c;\n$RefreshReg$(_c, \"ServiceForm\");","map":{"version":3,"names":["React","useEffect","useState","ServiceService","CategoryService","useAuth","useParams","useNavigate","jsxDEV","_jsxDEV","ServiceForm","_s","id","navigate","authToken","categories","setCategories","formData","setFormData","name","category","subCategory","capabilities","constraints","cost","deliveryTime","fetchCategories","fetchService","data","getAllCategories","error","console","getServiceById","handleSubmit","e","preventDefault","updateService","createService","onSubmit","children","value","onChange","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","map","cat","type","_c","$RefreshReg$"],"sources":["C:/Users/Yassir/Desktop/TenderLink_ui/src/components/services/ServiceForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ServiceService from '../../services/ServiceService';\r\nimport CategoryService from '../../services/CategoryService';\r\nimport { useAuth } from '../../AuthContext';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nconst ServiceForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { authToken } = useAuth();\r\n  const [categories, setCategories] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    category: { id: '' },\r\n    subCategory: '',\r\n    capabilities: [],\r\n    constraints: '',\r\n    cost: 0,\r\n    deliveryTime: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n    if (id) fetchService();\r\n  }, [id]);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const data = await CategoryService.getAllCategories();\r\n      setCategories(data);\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n    }\r\n  };\r\n\r\n  const fetchService = async () => {\r\n    try {\r\n      const data = await ServiceService.getServiceById(id);\r\n      setFormData(data);\r\n    } catch (error) {\r\n      console.error('Error fetching service:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (id) {\r\n        await ServiceService.updateService(id, formData, authToken);\r\n      } else {\r\n        await ServiceService.createService(formData, authToken);\r\n      }\r\n      navigate('/services');\r\n    } catch (error) {\r\n      console.error('Error saving service:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        value={formData.name}\r\n        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n        placeholder=\"Name\"\r\n      />\r\n      <select\r\n        value={formData.category.id}\r\n        onChange={(e) => setFormData({ ...formData, category: { id: e.target.value } })}\r\n      >\r\n        <option value=\"\">Select Category</option>\r\n        {categories.map((cat) => (\r\n          <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n        ))}\r\n      </select>\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ServiceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}